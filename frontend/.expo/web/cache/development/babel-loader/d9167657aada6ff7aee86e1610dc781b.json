{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _native = require(\"@react-navigation/native\");\n\nvar _stack = require(\"@react-navigation/stack\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _login_screen_container = _interopRequireDefault(require(\"./login_screen_container\"));\n\nvar _home_screen = _interopRequireDefault(require(\"../screens/home_screen\"));\n\nvar _auth_actions = require(\"../actions/auth_actions\");\n\nvar _jsxFileName = \"/home/alex/api_test/rn_testapp/containers/stack_navigator.js\";\n\nfunction _createSuper(Derived) { return function () { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar FarStack = function (_React$Component) {\n  (0, _inherits2.default)(FarStack, _React$Component);\n\n  var _super = _createSuper(FarStack);\n\n  function FarStack(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, FarStack);\n    _this = _super.call(this, props);\n\n    _this._retrieveData = function _callee() {\n      var value;\n      return _regenerator.default.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regenerator.default.awrap(_reactNative.AsyncStorage.getItem('testkey'));\n\n            case 3:\n              value = _context.sent;\n\n              if (!(value !== null)) {\n                _context.next = 8;\n                break;\n              }\n\n              return _context.abrupt(\"return\", value);\n\n            case 8:\n              return _context.abrupt(\"return\", value);\n\n            case 9:\n              _context.next = 13;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 11]], Promise);\n    };\n\n    _this.state = {\n      auth_token: ''\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(FarStack, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._retrieveData().then(function (response) {\n        return _this2.setState({\n          auth_token: response\n        });\n      });\n\n      console.log(\"tittiies\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var Stack = (0, _stack.createStackNavigator)();\n      console.log(\"stateyboy: \", this.state);\n      return _react.default.createElement(Stack.Navigator, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 7\n        }\n      }, console.log(\"superfartsanbdshieeet\"), this._retrieveData()._55 == null ? _react.default.createElement(Stack.Screen, {\n        name: \"login\",\n        component: _login_screen_container.default,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }\n      }) : _react.default.createElement(Stack.Screen, {\n        name: \"home\",\n        component: _home_screen.default,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n  return FarStack;\n}(_react.default.Component);\n\nvar _default = FarStack;\nexports.default = _default;","map":{"version":3,"sources":["/home/alex/api_test/rn_testapp/containers/stack_navigator.js"],"names":["FarStack","props","_retrieveData","AsyncStorage","getItem","value","state","auth_token","then","response","setState","console","log","Stack","_55","LoginContainer","Home","React","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AAEA;;;;;;;;IAEMA,Q;;;;;AACJ,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;AACjB,8BAAMA,KAAN;;AADiB,UAQnBC,aARmB,GAQH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAEQC,0BAAaC,OAAb,CAAqB,SAArB,CAFR;;AAAA;AAENC,cAAAA,KAFM;;AAAA,oBAGRA,KAAK,KAAK,IAHF;AAAA;AAAA;AAAA;;AAAA,+CASHA,KATG;;AAAA;AAAA,+CAaHA,KAbG;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KARG;;AAGjB,UAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE;AADD,KAAb;AAHiB;AAMlB;;;;wCAwBmB;AAAA;;AAKlB,WAAKL,aAAL,GAECM,IAFD,CAEM,UAAAC,QAAQ;AAAA,eAAI,MAAI,CAACC,QAAL,CAAc;AAACH,UAAAA,UAAU,EAAEE;AAAb,SAAd,CAAJ;AAAA,OAFd;;AAKAE,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACD;;;6BAEQ;AACP,UAAMC,KAAK,GAAG,kCAAd;AAgBAF,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,KAAKN,KAAhC;AAEA,aACE,6BAAC,KAAD,CAAO,SAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGK,OAAO,CAACC,GAAR,CAAY,uBAAZ,CADH,EAEC,KAAKV,aAAL,GAAqBY,GAArB,IAA4B,IAA5B,GACC,6BAAC,KAAD,CAAO,MAAP;AAAc,QAAA,IAAI,EAAC,OAAnB;AAA2B,QAAA,SAAS,EAAEC,+BAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,GAGC,6BAAC,KAAD,CAAO,MAAP;AAAc,QAAA,IAAI,EAAC,MAAnB;AAA0B,QAAA,SAAS,EAAEC,oBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CADF;AAYD;;;EA3EoBC,eAAMC,S;;eA8EdlB,Q","sourcesContent":["\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport React, { Component } from 'react';\nimport { AsyncStorage } from 'react-native';\n\nimport LoginContainer from './login_screen_container';\nimport Home from '../screens/home_screen';\n\nimport { receiveAuthToken, getThoseItems } from '../actions/auth_actions';\n\nclass FarStack extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      auth_token: '',\n    };\n  }\n\n  _retrieveData = async () => {\n    try {\n      const value = await AsyncStorage.getItem('testkey');\n      if (value !== null) {\n        // We have data!!\n        // this.props.authActions.checkLoggedIn(value);  //needs work // problem it likes splits the string\n        // this.props.authActions.geThoseItems(value);\n        // console.log(\"_retrieveData value: \", value); //works\n        // this.setState({auth_token: value}); // causes some king of inifinite looop\n        return value;\n      } else {\n        // console.log(\"fart\", value); // value is definitlyt null\n        // this.setState({auth_token: value});\n        return value;\n        // testy = \"BENIS\";\n\n      }\n    } catch (error) {\n      // Error retrieving data\n    }\n  };\n\n  componentDidMount() {\n    // this._retrieveData().then(\n      // value => this.setState(value));\n      // value => console.log(\"VALUE: \", value));\n    // console.log(\"componentDidMount\");\n    this._retrieveData()\n    // .then(response => console.log(\"responseyboy\", response)); /// has possiblities\n    .then(response => this.setState({auth_token: response}));\n\n    // console.log(\"stateyboy: \", this.state);\n    console.log(\"tittiies\");\n  }\n\n  render() {\n    const Stack = createStackNavigator();\n    // console.log(\"STATE\", this.state);\n    // console.log(\"tacs\", this._retrieveData()._55);\n    // console.log(\"tacs\", this._retrieveData()._55); //prolly good enugh\n\n    // let token = this._retrieveData();  //=== a promise\n    // console.log(\"damn token\", token);\n\n    // console.log(\"_55\", AsyncStorage.getItem('testkey')._55); //null\n    // console.log(\"no _55: \", AsyncStorage.getItem('testkey')); // promise but with the key\n    //somewhere you prolly need to dispatch the key\n\n    // this._retrieveData()\n    // // .then(response => console.log(\"responseyboy\", response)); /// has possiblities\n    // .then(response => this.setState({authtoken: response}));\n    //\n    console.log(\"stateyboy: \", this.state);\n\n    return (\n      <Stack.Navigator>\n        {console.log(\"superfartsanbdshieeet\")}\n      {this._retrieveData()._55 == null ? (\n        <Stack.Screen name=\"login\" component={LoginContainer} />\n      ) : (\n        <Stack.Screen name=\"home\" component={Home} />\n      )}\n\n\n      </Stack.Navigator>\n    );\n  }\n}\n\nexport default FarStack;\n"]},"metadata":{},"sourceType":"script"}